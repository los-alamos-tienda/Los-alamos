<div class="section container">
    <div class="row card-panel">

        <form (ngSubmit)="onRegistrarProducto(formNew)" #formNew="ngForm" class="col s12">
            <div class="title">
                <span class="card-title"><h4>REGISTRO DE PRODUCTO</h4></span>
            </div>
            <br>
            <div class="row ">
                <div class="input-field col s4">
                    <textarea [(ngModel)]="producto.id_producto" #idProducto="ngModel" type=text name="idProducto" id="idProducto" class="materialize-textarea validate" required></textarea>

                    <label for="idProducto">CodigoProducto</label>
                    <div *ngIf="idProducto.touched && !idProducto.valid">
                        <div>CodigoProducto es requerido</div>
                    </div>

                </div>
                <div class="input-field col s4">
                    <input [(ngModel)]="producto.nombre" #nombre="ngModel" type=text id="nombre" name="nombre" type="text" class="validate" required>
                    <label for="nombre">Nombre</label>
                    <div *ngIf="nombre.touched && !nombre.valid">
                        <div>Nombre es requerido</div>
                    </div>
                </div>

            </div>


            <div class="row">
                <div class="input-field col s4">
                    <select [(ngModel)]="producto.tipo_producto" #tipoProducto="ngModel" type="text" name="tipoProducto" id="tipoProducto" required>
                    <option value="" disable selected>Escoge el tipo de producto</option>
                    <option value="Ba単ador">Ba単ador</option>
                    <option value="Bolso">Bolso</option>
                    <option value="Gafas">Gafas</option>
                    <option value="Accesorio">Accesorio</option>
                  </select>

                    <label for="categoria">Categoria</label>
                    <div *ngIf="tipoProducto.touched && !tipoProducto.valid">
                        <div>Categoria es requerido</div>
                    </div>
                </div>
                <!-- <div class="input-field col s4">
              <input [(ngModel)]="producto.fecha" #fecha="ngModel"  name="fecha" id="fecha" type="text"  >

              <label for="fecha">Fecha de registro</label>
              <div *ngIf="fecha.touched && !fecha.valid">
                  <div >fecha  es requerido</div>
              </div>
            </div>  -->
            </div>
            <div class="row">
                <div for="name" class="input-field col s4">
                    <h6>Subir imagen del producto: </h6>
                    <input name="imagen" id="imagen" type="file" accept=".png , .jpg" (change)="onUpload($event)" class="validate" required>
                    <div class="progress">

                        <div class="progress-bar progress-bar-stripped bg-success" role="progressbar" [style.width]="(uploadPercent | async) + '%'">
                        </div>

                    </div>
                    <!-- <input #imageProducto type="hidden" [value]="urlImage  | async"> -->
                    <input #imageProducto type="hidden" [value]="urlImage  | async">



                </div>
                <div class="input-field col s4">
                    <input [(ngModel)]="producto.cantidad" #cantidad="ngModel" name="cantidad" id="cantidad" type="number" min="1" class="validate" required>
                    <label for="cantidad">Cantidad</label>
                    <div *ngIf="cantidad.touched && !cantidad.valid">
                        <div>Cantidad es requerido</div>
                    </div>
                </div>

            </div>
            <div class="row">
                <div class="input-field col s4">
                    <input [(ngModel)]="producto.precio" #precio="ngModel" name="precio" id="precio" type="number" class="validate" min="1" class="validate" required>
                    <label for="precio">Precio</label>
                    <div *ngIf="precio.touched && !precio.valid">
                        <div>Precio es requerido</div>
                    </div>
                </div>
                <div class="input-field col s4">

                    <select [(ngModel)]="producto.sexo" #sexo="ngModel" name="sexo" id="sexo" type="text" required>
            <option value="" disable selected>Escoge el sexo</option>
            <option value="Masculino">Masculino</option>
            <option value="Femenino">Femenino</option>
            
          </select>

                    <label for="sexo">Sexo</label>
                    <div *ngIf="sexo.touched && !sexo.valid">
                        <div>Sexo es requerido</div>
                    </div>



                </div>

            </div>
            <div class="row">
                <div class="input-field col s4">

                    <select [(ngModel)]="producto.sector_edad" #sectorEdad="ngModel" name="sectorEdad" id="sectorEdad" type="text" required>
              <option value="" disable selected>Escoge el sectorEdad</option>
            <option value="Adulto">Adulto</option>
            <option value="Ni単o">Ni単o</option>
            
          </select>
                    <label for="">Sector Edad</label>
                    <div *ngIf="sectorEdad.touched && !sectorEdad.valid">
                        <div>SectorEdad es requerido</div>
                    </div>
                </div>
                <div class="input-field col s4">

                    <select [(ngModel)]="producto.talla" #talla="ngModel" name="talla" id="talla" type="text" required>
            <option value="" disable selected>Escoge la talla</option>
            <option value="S">S</option>
            <option value="M">M</option>
            <option value="L">L</option>
            <option value="XL">XL</option>

            
          </select>
                    <label for="talla">Talla</label>
                    <div *ngIf="talla.touched && !talla.valid">
                        <div>Talla es requerido</div>
                    </div>
                </div>

            </div>
            <div class="row ">
                <div class="input-field col s4">
                    <textarea [(ngModel)]="producto.descripcion" #descripcion="ngModel" type=text name="descripcion" id="descripcion" class="materialize-textarea validate" required></textarea>

                    <label for="descripcion">Descripcion Producto</label>
                    <div *ngIf="descripcion.touched && !descripcion.valid">
                        <div>Descripcion es requerido</div>
                    </div>
                </div>
            </div>

            <div>
                <button *ngIf="urlImage | async; else btnDisable" class="btn waves-effect waves-light" type="submit" name="action" id="registrar">Registrar Producto
          <i class="material-icons right">send</i>
        </button>
                <ng-template #btnDisable>
                    <button class="btn waves-effect waves-light" type="submit" disabled=true name="action" id="registrar" btn-secondary>Registrar Producto
                <i class="material-icons right">send</i>
              </button>
                </ng-template>
            </div>


        </form>


    </div>



</div>


<iso-tabla-productos></iso-tabla-productos>